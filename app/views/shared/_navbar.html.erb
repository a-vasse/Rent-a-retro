<nav class="navbar">
  <div class="container-fluid py-2">
    <%= link_to root_path, class: "nav-link" do %>
      <div class="d-flex align-items-center">
        <span><i class="fa-solid fa-gamepad fa-2xl me-2"></i></span>
        <span class="fs-2 d-md-block d-none">RENT-A-RETRO</span>
      </div>
    <% end %>
    <div>
      <% if user_signed_in? %>
        <span class="me-3"><%= link_to "New Offer", new_offer_path, class:"btn btn-primary" %></span>
        <div class="btn-group">
          <button class="nav-user dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
            <%= current_user.display_name %>
            <%= current_user.photo.attached? ? cl_image_tag(current_user.photo.key, class: "avatar") : image_tag("https://kitt.lewagon.com/placeholder/users/papillar", class:"avatar") %>
          </button>
          <ul class="dropdown-menu">
            <li><%= link_to "Profile", user_profile_path(current_user), class: "dropdown-item" %></li>
            <li><%= link_to "My Rentals", user_rentals_path(current_user), class: "dropdown-item" %></li>
            <li><%= link_to "My Offers", user_offers_path(current_user), class: "dropdown-item" %></li>
            <li><hr class="dropdown-divider"></li>
            <li><%= link_to "Log out", destroy_user_session_path, data: {turbo_method: :delete}, class: "dropdown-item" %></li>
          </ul>
        </div>
      <% else %>
        <div class="d-flex align-items-center">
          <%= link_to "Sign Up", new_user_registration_path, class: "me-4" %>
          <%= link_to "Login", new_user_session_path, class: "btn btn-primary" %>
        </div>
      <% end %>
    </div>
  </div>
</nav>
